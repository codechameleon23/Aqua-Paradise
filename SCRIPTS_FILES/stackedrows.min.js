// Stacked Rows responsive table
!function(s){s.fn.stackedRows=function(a){var t=s.extend({classPrefix:"sr",firstRowHeader:!0,showLabels:!0,altRowStyle:!0},a),e={colNames:Array(),numRows:0,tableTypes:Array("withTbody","noTbody"),tableType:"",cols:"",body:"",findCols:function(s){var a=1;s.find("thead > tr > th").length>0?(e.cols=s.find("thead > tr > th"),s.find("thead > tr").addClass(t.classPrefix+"-header"),a=e.tableTypes[0]):s.find("thead > tr > td").length>0?(e.cols=s.find("thead > tr > td"),s.find("thead > tr").addClass(t.classPrefix+"-header"),a=e.tableTypes[0]):s.find("tbody > tr > th").length>0?(e.cols=s.find("tbody > tr > th"),s.find("tbody > tr:first-child").addClass(t.classPrefix+"-header"),a=e.tableTypes[1]):(e.cols=s.find("tr:first-child > td"),s.find("tr:first-child").addClass(t.classPrefix+"-header"),a=e.tableTypes[1]),e.tableType=a},findBody:function(s){var a="";switch(e.tableType){case"withTbody":a=s.find("tbody tr");break;case"noTbody":a=1==t.firstRowHeader?s.find("tr:not(:first-child)"):s.find("tr")}e.body=a}};this.each(function(a){var d=s(this);d.css({width:"100%"}),e.findCols(d),e.findBody(d),e.cols.each(function(){e.colNames.push(s(this).html())}),e.body.each(function(a){var d="row-"+a;e.numRows++,e[d]=Array(),s(this).addClass(t.classPrefix+"-"+d+" "+t.classPrefix+"-hide"),s(this).find("td").each(function(){var a=s(this).html();e[d].push(a.trim())})});for(var r=0;r<e.numRows;r++){var l="",i="row-"+r,o=e[i];if(void 0!==o){var n=r%2!=0&&1==t.altRowStyle?"even":"",c=r+1==e.numRows?t.classPrefix+"-tr-last":"";l+='<tr class="'+t.classPrefix+"-table-tr ",l+=n+" "+t.classPrefix+"-table-tr-"+i+" ",l+=c+'">',l+='<td colspan="'+e.colNames.length+'">',l+='<div class="'+t.classPrefix+'-table-div">';for(var f=0;f<o.length;f++){var h=""==o[f]||"&nbsp;"==o[f]?"blankValue":"",b=""==e.colNames[f]||"&nbsp;"==e.colNames[f]?"blankLabel":"";l+='<div class="'+t.classPrefix+"-table-record-div "+h+" "+b+'">';var y=e.colNames[f],v=0==t.showLabels?"hidden":"";1==t.firstRowHeader&&(l+='<label class="'+v+'">'+y+"</label>"),l+="<p>"+o[f]+"</p>",l+="</div>"}l+="</div></td></tr>",d.find("tr."+t.classPrefix+"-"+i).after(l)}}e.colNames=Array(),e.numRows=0})}}(jQuery);